{% extends "base.html" %}
{% block main %}
<main class="main-content">

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Kitoblar Dunyosiga Xush Kelibsiz</h1>
            <p>Eng yaxshi kitoblarni toping va o'qing</p>
        </div>
    </section>

    <!-- Search and Filter Section -->
    <section class="search-filter-section">
        <div class="container">

            <!-- Qidiruv -->
            <form method="get" class="search-box">
                <input 
                    type="text" 
                    name="q"
                    value="{{ query }}"
                    placeholder="Kitob nomi yoki muallif bo'yicha qidirish..."
                    class="search-input"
                >
                <button type="submit" class="search-icon">üîç</button>
            </form>

            <!-- Til bo‚Äòyicha filter -->
            <div class="filter-buttons">
                <a href="{% url 'dashboard' %}?language=all" 
                   class="filter-btn {% if selected_language == 'all' %}active{% endif %}">Barchasi</a>
                <a href="?language=uzbek" 
                   class="filter-btn {% if selected_language == 'uzbek' %}active{% endif %}">O'zbek</a>
                <a href="?language=russian" 
                   class="filter-btn {% if selected_language == 'russian' %}active{% endif %}">Rus</a>
                <a href="?language=english" 
                   class="filter-btn {% if selected_language == 'english' %}active{% endif %}">Ingliz</a>
            </div>

        </div>
    </section>

    <!-- Books Grid -->
    <section class="books-section">
        <div class="container">
            <div class="books-grid">
                {% for book in books %}
                    <a href="{% url 'book_detail' book.pk %}" class="book-card">
                        <img src="{% if book.image %}{{ book.image.url }}{% else %}/static/images/placeholder.svg{% endif %}" alt="{{ book.title }}" class="book-image">
                        <h3>{{ book.title }}</h3>
                        <p><strong>Muallif:</strong> {{ book.author }}</p>
                        <p><strong>Til:</strong> {{ book.language|title }}</p>
                        <p><strong>Yil:</strong> {{ book.year }}</p>
                    </a>
                {% empty %}
                    <p style="text-align:center;">Hech qanday kitob topilmadi üòî</p>
                {% endfor %}
            </div>
        </div>
    </section>

</main>
{% endblock main %}
